---
name: Close Stale Issues & Pull Requests

on:
  schedule:
    - cron: "30 1 * * *"

permissions: {}

jobs:
  close-issues:
    name: ♻️ Close Stale Issues & PRs
    runs-on: ubuntu-latest
    permissions:
      issues: write # is needed by actions/stale to close/comment on issues
      pull-requests: write # is needed by actions/stale to close/comment on PRs
    steps:
      - uses: step-security/harden-runner@5ef0c079ce82195b2a36a210272d6b661572d83e # v2.14.2
        with:
          disable-sudo-and-containers: true
          egress-policy: audit
      - uses: actions/stale@b5d41d4e1d5dceea10e7104786b73624c18a190f # v10.2.0
        with:
          stale-issue-label: "stale"
          stale-pr-label: "stale"
          stale-issue-message: "This issue is marked stale because it has been open for an extended period with no activity. Remove the 'stale' label or comment otherwise this issue will be closed in 7 days."
          stale-pr-message: "This pull request is marked stale because it has been open for an extended period with no activity. Remove the 'stale' label or comment otherwise this pull request will be closed in 7 days."
          exempt-all-milestones: true
