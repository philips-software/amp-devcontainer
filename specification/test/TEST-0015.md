---
active: true
derived: false
level: 2.15
links:
- REQ-0003: bnFBYZ1NwrArCZmxxowLlgkDAUxblNRUnux7f8ttNzQ=
normative: true
ref: ''
references:
- keyword: TEST-0015
  path: test/testsuite.bats
  type: file
reviewed: WHgP1txXnJiIHvyBk6MkI8T0GlOcLI0hfS5gjb9rm7I=
---

``` {.sh #teardown}
rm -rf .xwin-cache /winsdk
```

``` {.sh #testcase}
# bats test_tags=tc:TEST-0015
@test "using xwin to install Windows SDK/CRT should result in working environment" {
  run xwin --accept-license splat --preserve-ms-arch-notation && mv .xwin-cache/splat/ /winsdk
  assert_success

  run cmake --preset clang-cl
  assert_success

  run cmake --build --preset clang-cl
  assert_success
}
```