---
active: true
derived: false
level: 2.8
links: []
normative: true
ref: ''
references:
- keyword: TEST-0008
  path: test/testsuite.bats
  type: file
reviewed: s84pNLDr4hVKJMz7TOV12K65CerQNd-GRY9UlHRi0ZU=
---

``` {.sh #testcase}
# bats test_tags=tc:TEST-0008
@test "coverage information should be generated when running tests" {
  run cmake --preset coverage
  assert_success

  run cmake --build --preset coverage
  assert_success

  run ctest --preset coverage
  assert_success
  assert_output --partial "100% tests passed, 0 tests failed out of 1"

  run gcovr --exclude=.*/_deps/.*
  assert_success
  assert_output --partial "GCC Code Coverage Report"
}
```